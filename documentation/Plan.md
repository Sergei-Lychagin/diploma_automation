## План автоматизации тестирования комплексного web-сервиса покупки тура "Марракеш".

## Перечень автоматизируемых сценариев:

#### Валидными данными при заполнении полей ввода следует считать:

1. Номер карты: цифровые символы, 16 шт., в формате **** **** **** ****
1. Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год
1. Год: последние две цифры порядкового номера года, не ранее текущего года
1. Владелец: буквенные символы латинского алфавита
1. CVC: цифровые символы, в формате ***

#### Карты, представленные для тестирования (файл data.json):

* 4444 4444 4444 4441, status APPROVED
* 4444 4444 4444 4442, status DECLINED

##### Тестируемые Базы данных:

* MySql
* PostgreSQL

### Тестовые сценарии

#### Позитивные сценарии

1. Оплата по дебетовой карте со статусом APPROVED

   Номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными. 
   #### Ожидаемый результат: 
   Появилось всплывающее окно "Операция одобрена Банком", в БД в 
   payment_entity появилась запись со статусом APPROVED

1. Оплата по кредитной карте со статусом APPROVED

   Номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными. 
   #### Ожидаемый результат: 
   Появилось всплывающее окно "Операция одобрена Банком", в БД в 
   credit_request_entity появилась запись со статусом APPROVED

1. Оплата по дебетовой карте со статусом DECLINED

   Номер карты 4444 4444 4444 4442, остальные поля заполнены валидными данными. 
   #### Ожидаемый результат: 
   Появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в 
   payment_entity появилась запись со статусом
   DECLINED

1. Оплата по кредитной карте со статусом DECLINED

   Номер карты 4444 4444 4444 4442, остальные поля заполнены валидными данными. 
   #### Ожидаемый результат: 
   Появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в 
   credit_request_entity появилась запись со
   статусом DECLINED

#### Негативные сценарии

1. Оплата по карте, указан невалидный номер

   Номер карты 4444 4444 4444 444, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   Под полем номер карты появилось сообщение об ошибке "Неверный формат", в БД в 
   payment_entity новая запись не появилась

1. Кредит по данным карты, указан невалидный номер

   Номер карты 4444 4444 4444 444, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   Под полем Номер карты появилось сообщение об ошибке "Неверный формат", в БД в 
   credit_request_entity новая запись не появилась

1. Оплата по карте с истекшим сроком действия (месяц)

   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   Под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в 
   payment_entity новая запись не появилась

1. Кредит по данным карты с истекшим сроком действия (месяц)

   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   Под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в 
   credit_request_entity новая запись не появилась

1. Оплата по данным карты, указан невалидный месяц

   Номер карты 4444 4444 4444 4441, в поле Месяц указать 13, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   payment_entity новая запись не появилась

1. Кредит по данным карты, указан невалидный месяц

   Номер карты 4444 4444 4444 4441, в поле Месяц указать 13, остальные поля заполнены валидными данными  
   #### Ожидаемый результат: 
   Под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   credit_request_entity новая запись не появилась

1. Оплата по карте с истекшим сроком действия (год)

   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены валидными данными 
   #### Ожидаемый результат: 
   под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая
   запись не появилась

1. Кредит по данным карты с истекшим сроком действия (год)

   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены валидными данными 
   #### Ожидаемый результат: 
   под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в credit_request_entity
   новая запись не появилась

1. Оплата по данным карты, указано некорректное значение в поле Владелец

   Номер карты 4444 4444 4444 4441, в поле Владелец внести некорректные данные, остальные поля заполнить валидными
   значениями 
   #### Ожидаемый результат: 
   под полем Владелец появилось сообщение об ошибке, в БД в payment_entity новая запись не появилась

1. Кредит по данным карты, указано некорректное значение в поле Владелец

   Номер карты 4444 4444 4444 4441, в поле Владелец внести некорректные данные, остальные поля заполнить валидными
   значениями  
   #### Ожидаемый результат: 
   под полем Владелец появилось сообщение об ошибке, в БД в credit_request_entity новая запись не 
   появилась

1. Оплата по данным карты, указано некорректное значение в поле CVC/CVV

   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 11, остальные поля заполнить валидными значениями 
   #### Ожидаемый результат: 
   под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД в payment_entity 
   новая запись не появилась

1. Кредит по данным карты, указано некорректное значение в поле CVC/CVV

   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнить валидными значениями 
   #### Ожидаемый результат: 
   под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая
   запись не появилась

1. Пустая форма заявки "Оплата по карте"

   #### Ожидаемый результат: 
   У полей ввода "Номер карты", "Месяц", "Год", "CVC/CVV" появляются сообщения об ошибке "Неверный
   формат", у поля "Владелец" сообщение об ошибке "Поле обязательно для заполнения". Заявка не отправляется.в БД в
   credit_request_entity/payment_entity новая запись не появилась

## Перечень используемых инструментов:

* Java 11 - язык написания авто-тестов;
1. *IntelliJ IDEA* - самая популярная среда разработки в мире Java. Преимущества: автоматически анализирует код, ищет связи между символами во всех файлах, используемых в проекте. Интегрирован с различными системами. Предоставляет инструменты запуска тестов и анализа покрытия кода.
1. *Git* - распределённая система управления версиями. Даёт возможность отслеживать изменения в файлах и работать совместно с другими сотрудниками.
1. *GitHub* - сервис онлайн-хостинга репозиториев, обладающий всеми функциями распределённого контроля версий и функциональностью управления исходным кодом. Общий доступ, возможность вносить корректировки, управлять проектами, проводить удаленное независимое исполнение кода.
1. *Docker* - ПО, позволяющее операционной системе запускать процессы в изолированном окружении на базе специально созданных образов. Это универсальный способ доставки приложений на машины (локальный компьютер или удаленные сервера) и их запуска в изолированном окружении.
1. *Selenide* - удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver (инструмент для управления браузером). Преимущества: автоматическое управление браузером, умные ожидания, автоматические скриншоты, удобные методы.
1. *JUnit* - платформа для написания авто-тестов и их запуска. Имеет готовый набор методов для сравнения ожидаемого и фактического результата.
1. *Gradle* — система управления зависимостями. Один из самых удобных инструментов автоматизации сборки и управления зависимостями. Сам выкачивает нужные библиотеки и их зависимости. Имеет простые локаничные подключения плагинов.
1. *Allure* - фреймворк для создания простых и наглядных отчётов авто-тестов, понятных всем участникам команды. Возможность получать скриншоты, легкий поиск ошибок.

## Перечень и описание возможных рисков при автоматизации:
1. Сложность настройки и работы с СУБД, т.к. приложение работает сразу с двумя СУБД: MySQL, PostgreSQL. Сложнее отследить возможные ошибки.
1. Вместо работы с банковскими сервисами, в тестировании используется симулятор, написанный на Node.js. Интеграция с платежной системой может иметь скрытые нюансы, которые неожиданно могут отсрочить выполнение задачи.
1. При написании тестов используются CSS селекторы. В коде не предусмотрели уникальные атрибуты "data-", и при изменениях на странице, тесты придется заново настраивать.
1. Смена формы заполнения после какого-либо времени;
1. Долгое открытие страницы сайта, либо вкладки;
1. Недоступность сайта или страницы;
1. Неоправданная стоимость автоматизации;


## Перечень необходимых специалистов для автоматизации:

* Специалист по автоматизированному тестированию;

## Интервальная оценка с учётом рисков (в часах):

1. Настройка систем для работы, подготовка тестового окружения - 24 часа
1. Написание авто-тестов, их прогон - 56 часов
1. Написание отчетов об ошибках, багах - 8 часов
1. Написание документов по итогам тестирования - 24 часа
1. Написание документов по итогам автоматизации - 24 часа


## План сдачи работ:

* завершение автотестов: 05.08.2021
* предоставление отчетности: 09.08.2021